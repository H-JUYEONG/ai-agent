# 하드코딩 가이드라인

## ✅ 허용되는 하드코딩 (설계 의도)

### 1. 표준화된 타입/Enum 값
**목적**: 데이터 구조와 타입 안정성 보장

**예시:**
- `SecurityPolicy` Enum: `"opt-in"`, `"opt-out"`, `"on-premise"`, `"no-transmission"`
- `WorkflowType` Enum: `"code_completion"`, `"code_generation"`, `"code_review"` 등
- `plan_type`: `"individual"`, `"team"`, `"enterprise"` (표준 플랜 타입)

**이유**: 
- 데이터 일관성 보장
- 타입 안정성
- 검증 가능한 값 제한

### 2. 판단 로직의 기본값/가중치
**목적**: 판단 알고리즘의 기본 동작 정의

**예시:**
- 점수 계산 가중치: `language_support: 0.3`, `integration: 0.2` 등
- 예산 비율 임계값: `0.5` (예산의 50% 이하면 만점)
- 점수 범위: `0.0 ~ 1.0`

**이유**:
- 판단 로직의 일관성
- 필요시 설정 가능하도록 설계 (기본값 제공)

### 3. 일반적인 프로그래밍 언어 키워드
**목적**: 사용자 메시지에서 언어 추출을 위한 일반적인 패턴

**예시:**
- `language_keywords = ["python", "java", "javascript", ...]` (일반적인 언어명)

**이유**:
- 일반적인 프로그래밍 언어는 표준화된 이름
- 사용자가 언급한 언어를 인식하기 위한 매핑

### 4. 프롬프트의 예시 (명확히 표시된 경우)
**목적**: LLM에게 형식과 구조를 안내

**예시:**
- `"예: GitHub, GitLab, Slack"` (⚠️ 예시일 뿐 표시)
- `"예: Free, Pro, Business"` (⚠️ 예시일 뿐 표시)

**이유**:
- LLM이 형식을 이해하기 위한 참고
- 실제 값은 Findings에서 추출하도록 명시

---

## ❌ 금지되는 하드코딩 (실제 데이터)

### 1. 도구명
**금지:**
- `if tool.name == "Copilot": ...`
- `recommended = ["Copilot", "Tabnine"]`

**이유**: 도구명은 검색 결과에서 동적으로 발견되어야 함

### 2. 가격/플랜명
**금지:**
- `price = 19` (Copilot 가격)
- `if plan == "Business": ...`
- `plans = ["Free", "Pro", "Business"]`

**이유**: 가격과 플랜명은 도구마다 다르고, 공식 사이트에서 확인해야 함

### 3. 통합 서비스 목록
**금지:**
- `integrations = ["GitHub", "Slack"]` (특정 도구의 통합)

**이유**: 각 도구마다 지원하는 통합이 다름

### 4. 지원 언어 목록
**금지:**
- `languages = ["Python", "JavaScript"]` (특정 도구의 언어)

**이유**: 각 도구마다 지원하는 언어가 다름

### 5. 판단 기준의 구체적 값
**금지:**
- `if tool.name == "Copilot" and stack == "Spring Boot": recommend()`
- `"Copilot은 Spring Boot에 적합"`

**이유**: 판단은 점수 계산과 규칙 기반으로 해야 함

---

## 🎯 판단 기준

**하드코딩 허용 여부를 판단하는 질문:**

1. **"이 값이 모든 도구/상황에 공통으로 적용되는가?"**
   - ✅ 예: Enum 값, 가중치 기본값 → 허용
   - ❌ 아니오: 특정 도구의 가격, 플랜명 → 금지

2. **"이 값이 표준/규격인가?"**
   - ✅ 예: 보안 정책 타입, 플랜 타입 → 허용
   - ❌ 아니오: 도구별 플랜명 → 금지

3. **"이 값이 판단 로직의 일부인가?"**
   - ✅ 예: 점수 계산 가중치, 임계값 → 허용
   - ❌ 아니오: 특정 도구에 대한 판단 → 금지

4. **"이 값이 예시로 명확히 표시되어 있는가?"**
   - ✅ 예: 프롬프트의 "예: ..." (⚠️ 표시 있음) → 허용
   - ❌ 아니오: 예시 없이 실제 값처럼 사용 → 금지

---

## 📝 현재 코드 상태

### ✅ 올바르게 구현된 부분
- Enum 값들 (`SecurityPolicy`, `WorkflowType`)
- 기본 가중치 (설정 가능하도록 설계)
- 일반적인 언어 키워드 매칭
- 프롬프트의 예시 (⚠️ 표시 있음)

### ✅ 동적으로 처리되는 부분
- 도구명: Findings에서 추출
- 가격: Findings에서 추출
- 플랜명: Findings에서 추출
- 통합 서비스: Findings에서 추출
- 지원 언어: Findings에서 추출

---

## 🔍 검증 방법

코드에서 다음 패턴을 찾아 확인:
- `if tool.name == "특정도구명"` → ❌ 금지
- `price = 19` (특정 가격) → ❌ 금지
- `"Copilot"` (문자열 리터럴) → ❌ 금지 (예시 제외)
- `SecurityPolicy.OPT_IN` (Enum) → ✅ 허용
- `weights = {"language": 0.3}` (기본값) → ✅ 허용




